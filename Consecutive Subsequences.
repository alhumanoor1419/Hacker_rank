T = int(input())
for _ in range(T):
    n, k = map(int, input().split())
    arr = list(map(int, input().split()))

    freq = {0: 1}
    prefix_sum = 0
    result = 0

    for num in arr:
        prefix_sum = (prefix_sum + num) % k
        if prefix_sum in freq:
            result += freq[prefix_sum]
            freq[prefix_sum] += 1
        else:
            freq[prefix_sum] = 1

    print(result)
